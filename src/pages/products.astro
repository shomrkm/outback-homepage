---
import { getCollection } from 'astro:content';

import Layout from '../layouts/Layout.astro';
import ProductCard from '../components/shared/ProductCard.astro';

const products = await getCollection('products')
---

<Layout title="製品情報">
  <main>
    <h1>製品情報</h1>
    <section class="products">
      {
        products.map(product => (
            <ProductCard
              title={product.data.name}
              description={product.data.description}
              image={product.data.image}
              price={product.data.price}
              url={`/products/${product.slug}`}
            />
        ))
      }
    </section>
  </main>
</Layout>

<style>
	main {
		margin: auto var(--space-2xl);
		padding: var(--space-l);
		line-height: var(--line-h-s);
	}
  h1 {
    padding: var(--space-s);
    margin-bottom: var(--space-l);
		font-size: var(--font-3xl);
		line-height: var(--line-h-3xl);
		font-weight: var(--font-bold);
		text-align: center;
  }
  .products {
    display: flex;
    align-items: flex-start;
    gap: var(--space-s);
    flex-wrap: wrap;
  }
</style>
